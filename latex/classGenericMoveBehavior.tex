\hypertarget{classGenericMoveBehavior}{}\doxysection{Generic\+Move\+Behavior Class Reference}
\label{classGenericMoveBehavior}\index{GenericMoveBehavior@{GenericMoveBehavior}}


The \mbox{\hyperlink{classGenericMoveBehavior}{Generic\+Move\+Behavior}} class handles movement actions.  




{\ttfamily \#include $<$genericmovebehavior.\+h$>$}



Inheritance diagram for Generic\+Move\+Behavior\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classGenericMoveBehavior__inherit__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classGenericMoveBehavior_abe806bccc9b4ca34732abb38be15bd8a}{Generic\+Move\+Behavior}} (QPointer$<$ \mbox{\hyperlink{classGameObject}{Game\+Object}} $>$ owner)
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{classGenericMoveBehavior}{Generic\+Move\+Behavior}} default constructor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classGenericMoveBehavior_a5f92dc2281f9cb43b5f795ee87fec7b6}{Generic\+Move\+Behavior}} ()=delete
\item 
bool \mbox{\hyperlink{classGenericMoveBehavior_aa653e8918e98a56557d1af89f1ab34e5}{step\+On}} (QPointer$<$ \mbox{\hyperlink{classGameObject}{Game\+Object}} $>$ target) override
\begin{DoxyCompactList}\small\item\em step\+On moves on top of a target. The step\+On function checks if everything in the target has a \mbox{\hyperlink{classMovement}{Movement}} behavior, and if it does it checks that everything is steppable. If either is false, it will not step on the target. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classGenericMoveBehavior_a5bd2223e2156404c8efa2b928ef9cf8e}{step\+On}} (\mbox{\hyperlink{namespace__pub_aceb36dd0edefc86835061a00052d3ae0}{Direction}} direction) override
\begin{DoxyCompactList}\small\item\em step\+On overrides the step\+On function on a direction. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
The \mbox{\hyperlink{classGenericMoveBehavior}{Generic\+Move\+Behavior}} class handles movement actions. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classGenericMoveBehavior_abe806bccc9b4ca34732abb38be15bd8a}\label{classGenericMoveBehavior_abe806bccc9b4ca34732abb38be15bd8a}} 
\index{GenericMoveBehavior@{GenericMoveBehavior}!GenericMoveBehavior@{GenericMoveBehavior}}
\index{GenericMoveBehavior@{GenericMoveBehavior}!GenericMoveBehavior@{GenericMoveBehavior}}
\doxysubsubsection{\texorpdfstring{GenericMoveBehavior()}{GenericMoveBehavior()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily Generic\+Move\+Behavior\+::\+Generic\+Move\+Behavior (\begin{DoxyParamCaption}\item[{QPointer$<$ \mbox{\hyperlink{classGameObject}{Game\+Object}} $>$}]{owner }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



\mbox{\hyperlink{classGenericMoveBehavior}{Generic\+Move\+Behavior}} default constructor. 


\begin{DoxyParams}{Parameters}
{\em owner} & the owner of the behavior \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{15         : \mbox{\hyperlink{classMovement_a5737ffdf0817509ebbe42075124ce2be}{Movement}}(owner) \{\};}

\end{DoxyCode}
\mbox{\Hypertarget{classGenericMoveBehavior_a5f92dc2281f9cb43b5f795ee87fec7b6}\label{classGenericMoveBehavior_a5f92dc2281f9cb43b5f795ee87fec7b6}} 
\index{GenericMoveBehavior@{GenericMoveBehavior}!GenericMoveBehavior@{GenericMoveBehavior}}
\index{GenericMoveBehavior@{GenericMoveBehavior}!GenericMoveBehavior@{GenericMoveBehavior}}
\doxysubsubsection{\texorpdfstring{GenericMoveBehavior()}{GenericMoveBehavior()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily Generic\+Move\+Behavior\+::\+Generic\+Move\+Behavior (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classGenericMoveBehavior_a5bd2223e2156404c8efa2b928ef9cf8e}\label{classGenericMoveBehavior_a5bd2223e2156404c8efa2b928ef9cf8e}} 
\index{GenericMoveBehavior@{GenericMoveBehavior}!stepOn@{stepOn}}
\index{stepOn@{stepOn}!GenericMoveBehavior@{GenericMoveBehavior}}
\doxysubsubsection{\texorpdfstring{stepOn()}{stepOn()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool Generic\+Move\+Behavior\+::step\+On (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespace__pub_aceb36dd0edefc86835061a00052d3ae0}{Direction}}}]{direction }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



step\+On overrides the step\+On function on a direction. 


\begin{DoxyParams}{Parameters}
{\em direction} & relative to the owner\textquotesingle{}s position. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if it is able to. 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classMovement_aa5b2cde0d02fd20fe14906504541ea84}{Movement}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{48                                                     \{}
\DoxyCodeLine{49     \textcolor{comment}{// You can either turn or move in the direction you are looking, not both}}
\DoxyCodeLine{50     \textcolor{keyword}{auto} currentDirection = \mbox{\hyperlink{classBehavior_abe74f58cf2f890c3270ef06aa68d3c24}{m\_owner}}-\/>getData(\mbox{\hyperlink{namespace__pub_aceb36dd0edefc86835061a00052d3ae0}{DataRole::Direction}}).value<\mbox{\hyperlink{namespace__pub_aceb36dd0edefc86835061a00052d3ae0}{Direction}}>();}
\DoxyCodeLine{51     \textcolor{keywordflow}{if}(direction != currentDirection) \{}
\DoxyCodeLine{52         \mbox{\hyperlink{classBehavior_abe74f58cf2f890c3270ef06aa68d3c24}{m\_owner}}-\/>setData(\mbox{\hyperlink{namespace__pub_aceb36dd0edefc86835061a00052d3ae0}{DataRole::Direction}}, QVariant::fromValue<Direction>(direction));}
\DoxyCodeLine{53         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{54     \}}
\DoxyCodeLine{55 }
\DoxyCodeLine{56     \textcolor{keyword}{auto} neighbor = \mbox{\hyperlink{classBehavior_abe74f58cf2f890c3270ef06aa68d3c24}{m\_owner}}-\/>getNeighbor(direction);}
\DoxyCodeLine{57     \textcolor{keywordflow}{if}(!neighbor) \{}
\DoxyCodeLine{58         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{59     \}}
\DoxyCodeLine{60 }
\DoxyCodeLine{61     \textcolor{keywordflow}{return} \mbox{\hyperlink{classGenericMoveBehavior_aa653e8918e98a56557d1af89f1ab34e5}{stepOn}}(neighbor);}
\DoxyCodeLine{62 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classGenericMoveBehavior_aa653e8918e98a56557d1af89f1ab34e5}\label{classGenericMoveBehavior_aa653e8918e98a56557d1af89f1ab34e5}} 
\index{GenericMoveBehavior@{GenericMoveBehavior}!stepOn@{stepOn}}
\index{stepOn@{stepOn}!GenericMoveBehavior@{GenericMoveBehavior}}
\doxysubsubsection{\texorpdfstring{stepOn()}{stepOn()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool Generic\+Move\+Behavior\+::step\+On (\begin{DoxyParamCaption}\item[{QPointer$<$ \mbox{\hyperlink{classGameObject}{Game\+Object}} $>$}]{target }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



step\+On moves on top of a target. The step\+On function checks if everything in the target has a \mbox{\hyperlink{classMovement}{Movement}} behavior, and if it does it checks that everything is steppable. If either is false, it will not step on the target. 


\begin{DoxyParams}{Parameters}
{\em target} & to step on. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if it was able to. 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classMovement_a877eef2ab0c702bb69f67557e126a346}{Movement}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{3                                                             \{}
\DoxyCodeLine{4     \textcolor{comment}{// Get all the behaviors from the target and its children.}}
\DoxyCodeLine{5     \textcolor{keyword}{auto} behaviors = target-\/>getAllBehaviors<\mbox{\hyperlink{classMovement}{Movement}}>();}
\DoxyCodeLine{6     \textcolor{keywordtype}{bool} steppable = \textcolor{keyword}{true};}
\DoxyCodeLine{7 }
\DoxyCodeLine{8     \textcolor{keywordflow}{for}(\textcolor{keyword}{const} \textcolor{keyword}{auto} \&bh : behaviors) \{}
\DoxyCodeLine{9         \textcolor{keywordflow}{if}(bh.isNull())}
\DoxyCodeLine{10             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{11 }
\DoxyCodeLine{12         steppable = steppable \&\& bh-\/>\mbox{\hyperlink{classMovement_a81d99c6849438e1495b57109df45285e}{isSteppable}}();}
\DoxyCodeLine{13     \}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15     \textcolor{comment}{// if any of them is not steppable or don't have the movement behavior, don't move.}}
\DoxyCodeLine{16     \textcolor{keywordflow}{if}(!steppable)}
\DoxyCodeLine{17         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{18 }
\DoxyCodeLine{19     \textcolor{keywordtype}{float} energy = \mbox{\hyperlink{classBehavior_abe74f58cf2f890c3270ef06aa68d3c24}{m\_owner}}-\/>getData(DataRole::Energy).toFloat();}
\DoxyCodeLine{20     \textcolor{keywordtype}{float} targetEnergy = target-\/>getData(DataRole::Energy).toFloat();}
\DoxyCodeLine{21 }
\DoxyCodeLine{22     \textcolor{comment}{// Makes sure the protagonist does not get stuck even if they have a bit of energy left.}}
\DoxyCodeLine{23     \textcolor{keywordflow}{if}(energy -\/ targetEnergy < 0) \{}
\DoxyCodeLine{24         \textcolor{keywordflow}{for}(\textcolor{keyword}{const} \textcolor{keyword}{auto} \&neighbor : \mbox{\hyperlink{classBehavior_abe74f58cf2f890c3270ef06aa68d3c24}{m\_owner}}-\/>getAllNeighbors()) \{}
\DoxyCodeLine{25             \textcolor{keywordflow}{if}(neighbor-\/>getData(DataRole::Energy).toFloat())}
\DoxyCodeLine{26                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{27             \mbox{\hyperlink{classBehavior_abe74f58cf2f890c3270ef06aa68d3c24}{m\_owner}}-\/>setData(DataRole::Energy, 0);}
\DoxyCodeLine{28         \}}
\DoxyCodeLine{29         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{30     \}}
\DoxyCodeLine{31 }
\DoxyCodeLine{32     \textcolor{comment}{// Call step on all the children from the target (and the target itself).}}
\DoxyCodeLine{33     \textcolor{keywordflow}{for}(\textcolor{keyword}{const} \textcolor{keyword}{auto} \&bh : behaviors) \{}
\DoxyCodeLine{34         bh-\/>getSteppedOn(\mbox{\hyperlink{classBehavior_abe74f58cf2f890c3270ef06aa68d3c24}{m\_owner}});}
\DoxyCodeLine{35     \}}
\DoxyCodeLine{36 }
\DoxyCodeLine{37     \mbox{\hyperlink{classBehavior_abe74f58cf2f890c3270ef06aa68d3c24}{m\_owner}}-\/>setParent(target);}
\DoxyCodeLine{38     \textcolor{comment}{// This event is the Qt way of notifying a parent change, the view is unaware of}}
\DoxyCodeLine{39     \textcolor{comment}{// the difference, but since there is no position stored in most objects, we cannot change it to notify.}}
\DoxyCodeLine{40     \textcolor{comment}{// The GameObject will send a DataChanged signal with the position of its parent. But will not store it.}}
\DoxyCodeLine{41     QEvent ev(QEvent::ParentChange);}
\DoxyCodeLine{42     \mbox{\hyperlink{classBehavior_abe74f58cf2f890c3270ef06aa68d3c24}{m\_owner}}-\/>event(\&ev);}
\DoxyCodeLine{43     \mbox{\hyperlink{classBehavior_abe74f58cf2f890c3270ef06aa68d3c24}{m\_owner}}-\/>setData(DataRole::Energy, energy -\/ targetEnergy);}
\DoxyCodeLine{44 }
\DoxyCodeLine{45     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{46 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
model/behaviors/concrete/movement/\mbox{\hyperlink{genericmovebehavior_8h}{genericmovebehavior.\+h}}\item 
model/behaviors/concrete/movement/\mbox{\hyperlink{genericmovebehavior_8cpp}{genericmovebehavior.\+cpp}}\end{DoxyCompactItemize}
